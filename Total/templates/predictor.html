<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breast Cancer Prediction</title> 
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet"> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/locomotive-scroll@4.1.0/dist/locomotive-scroll.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/framer-motion/dist/framer-motion.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>  
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap');
        body { 
            margin: 0;
            padding: 0;
            background-color: #f8edf2;
            font-family: "Space Grotesk", sans-serif;
            font-optical-sizing: auto;
            /* font-weight: <weight>;
             font-style: normal;
            color: #333;  */
        }  
        .animate {
  /* Add your animation styles here */
  animation: your_animation 1s ease-in-out;
}

@keyframes your_animation {
  0% {
    /* Initial state */
    transform: translateY(0);
    opacity: 0;
  }
  100% {
    /* Final state */
    transform: translateY(0);
    opacity: 1;
  }
}
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            
            
        }

        .navbar .logo {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: #FF69B4;  /* Hot pink for logo */
        }

        .navbar .logo img {
            width: 30px;
            height: 30px;
            margin-right: 10px;
        }

        .navbar nav ul {
            list-style: none;
            display: flex; 
            gap: 20px; 
            align-items: center;
        }

        .navbar nav ul li {
            display: inline;
        }

        .navbar nav ul li a {
            padding: 10px 20px;
            text-decoration: none;
            color: #333;
            font-weight: 500;
            align-items: center; 
            transition: color 0.3s ease;
        }

        .navbar nav ul li a:hover {
            color: #FF69B4;  /* Hot pink on hover */
        }

        .navbar nav ul li a.btn {
            margin: 0;
            background-color: #FF69B4;  /* Hot pink button */
            color: #fff;
            border-radius: 20px;
            font-weight: 600;
        }

        .container-fluid {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 30px;
            padding: 20px; 
            
        }
        .sidebar {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1);
        }
        .main-content {
            position: relative;
            text-align: center;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1); 
            overflow: hidden; /* Ensure overflow is hidden */
        }
        .main-image {
            width: 100%;
            margin: 0 auto;
            position: relative;
            transition: transform 0.5s ease-in-out;
        }
        .breast-area {
            position: absolute;
            top: 50%;
            left: 50%;
            width:70px;
            height: 65px; 
            background-color: transparent;
            border-radius: 50%;
        }
        .btn {
            width: 100%;
            margin-top: 20px;
            background-color: #b8065f;
        }  
         .btn:hover {
            background-color: #e60073;
        }
        .result-display {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100px;
            font-size: 24px;
            font-weight: bold;
            color: black;
            margin-top: 20px;
        } 
        footer {
            background-color: white;
            padding: 20px 0;
            border-top: 1px solid #b72222;
        }

        .container-footer {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            flex-wrap: wrap; 
            gap: 2px;
            justify-content: space-between;
        }

        .footer-section {
            margin-bottom: 20px;
            width: 100%;
        }

        /* @media (min-width: 768px) {
            .footer-section {
                width: 24%;
            }
        } */

        .footer-brand {
            background-color: #FF69B4;
            color: white;
            padding: 20px;
            border-radius: 10px;
        }

        .footer-brand .brand-icon {
            font-size: 24px;
            margin-right: 10px;
        }

        .footer-brand p {
            margin: 10px 0;
            line-height: 1.6;
        }

        .social-icons a {
            color: white;
            margin-right: 10px;
            text-decoration: none;
        } 
        .social-icons a:hover {
            color: #2c2c2c;
        }

        .footer-heading {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .footer-section p {
            margin: 0 0 10px;
        }

        .footer-section ul {
            list-style: none;
            padding: 0;
        }

        .footer-section ul li {
            margin-bottom: 10px;
        }

        .footer-section ul li a {
            color: #4a4a4a;
            text-decoration: none;
        }

        .footer-section ul li a:hover {
            color: #2c2c2c;
        }

        .newsletter {
            display: flex;
        }

        .newsletter input[type="email"] {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px 0 0 5px;
            outline: none;
            flex-grow: 1;
        }

        .newsletter button {
            background-color: #f20ed7;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 0 5px 5px 0;
            cursor: pointer;
        }

        .newsletter button i {
            margin-left: 5px;
        }

        .footer-bottom {
            background-color: #ffffff;
            text-align: center;
            padding: 20px 0;
            margin-top: 30px;  
            color: #FF69B4;

        } 
        #backtotop {
  height: 40vh;
  width: 100%;
  background-color: #ffffff;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  flex-direction: column;
  gap: 40px;
}
#backtotop  #end {
  height: 50%;
  width: 100%;
  background-color: #650350;
}
#backtotop h2 {
  font-size: 2rem; /* Adjust size as needed */
  cursor: pointer;
  color: #FF69B4; /* Optional: Change color to match your theme */
} 
@media (max-width: 768px) {
    .navbar {
        flex-direction: column;
        align-items: flex-start;
    }

    .navbar nav ul {
        flex-direction: column;
        gap: 10px;
    }

    
    .hero-section{
        top:5%
    }
    .text-container h1 {
        font-size: 3rem; /* Adjusted for smaller screens */
    }
    
    .image-grid {
        grid-template-columns: 1fr; /* Single column layout for smaller screens */
        padding: 80px;
    }

    .icon {
        width: 80px; /* Adjusted size */
        height: 80px; /* Adjusted size */
    }

    .icon i {
        font-size: 1.5rem; /* Adjusted icon size */
    }

    .icon-text {
        font-size: 0.8rem; /* Adjusted font size */
    }

    .container-footer {
        flex-direction: column;
    }

    .newsletter {
        flex-direction: column;
    }

    .newsletter input[type="email"] {
        margin-bottom: 10px;
    } 
    #backtotop h2 {
        font-size: 1rem; 
        font-weight: 600;
          
}
}

@media (max-width: 480px) {  
    #backtotop h2 {
        font-size: 1rem; 
        font-weight: 600;

}
    </style>
</head>
<body>
    <div data-scroll-container>
    <header class="navbar" style="width: 100%; " >
        <div class="logo">
            <img  src="https://i.ibb.co/wBcPNMR/logo.jpg" alt="Logo" style="width: 70px;
            height: 70px;
            margin-right: 10px;">
            <h5 style="font-weight: 700; font-size: 1.5rem; cursor: pointer ;;" ><a href="index.html" style="text-decoration:none; color: rgb(102, 9, 146)">Tumor<span style="font-weight: 700; font-size: 1.5rem; color: #da0670;">Trace</span>.</a></h5>
        </div>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/about">About Us</a></li>
                <li><a href="/howitworks">How It Works</a></li> <!-- Updated link -->
                <li><a href="/predictor" class="btn">Get Started</a></li>
            </ul>
        </nav>
    </header>
<div class="container-fluid" >
    <!-- Left Sidebar -->
    <div class="sidebar">
        <h4 style="display: flex;justify-content: center; font-weight: 600;">Patient Details</h4>
        <form id="predict-form" action="/predict" method="POST">
            <div class="mb-3">
                <label for="area_worst" class="form-label">Area Worst</label>
                <input type="number" class="form-control" id="area_worst" name="area_worst" step="any" required>
            </div>
            <div class="mb-3">
                <label for="concave_points_worst" class="form-label">Concave Points Worst</label>
                <input type="number" class="form-control" id="concave_points_worst" name="concave_points_worst" step="any" required>
            </div>
            <div class="mb-3">
                <label for="concave_points_mean" class="form-label">Concave Points Mean</label>
                <input type="number" class="form-control" id="concave_points_mean" name="concave_points_mean" step="any" required>
            </div>
            <div class="mb-3">
                <label for="radius_worst" class="form-label">Radius Worst</label>
                <input type="number" class="form-control" id="radius_worst" name="radius_worst" step="any" required>
            </div>
            <div class="mb-3">
                <label for="perimeter_worst" class="form-label">Perimeter Worst</label>
                <input type="number" class="form-control" id="perimeter_worst" name="perimeter_worst" step="any" required>
            </div>
            <button type="submit" class="btn btn-primary">Predict</button>
            <button type="button" id="reset-button" class="btn btn-secondary">Reset</button>
        </form>
    </div>
    
    <!-- Main Content with Image -->
    <div class="main-content">
        <img src="https://i.ibb.co/H7CLPcd/low-poly-female-base-mesh-3d-model-low-poly-fbx-mtl-removebg.png" alt="Human Body" class="main-image" id="human-body">
        <div class="breast-area" id="breast-area"></div>
    </div>
    
    <!-- Right Sidebar -->
    <div id="right" class="sidebar">
        <h4 style="display: flex; justify-content:center; font-weight: 600;">Prediction Results</h4> 
        <div id="pie-chart"><canvas id="resultChart" width="400" height="400"></canvas></div>
        <div id="result-display" class="result-display"></div>
        <button id="download-btn" class="btn btn-secondary" style="display: none;">Download Prediction</button>

</div>
</div>
<div>
    <div style="padding-top: 20px;">
        <div class="container-footer">
          <div class="footer-section footer-brand">
            <div class="brand">
              <i class="fas fa-paper-plane brand-icon"></i>
              <span>TraceTumor</span>
            </div>
            <p>Trusted . Have any query? Contact us, we are here for you.</p>
            <div class="social-icons">
              <a href="https://www.facebook.com/share/4TCmFH6YQYWHmYRC/?mibextid=qi2Omg"><i class="fab fa-facebook-f" ></i></a>
              <a href="https://x.com/1208Pal22487?t=bDdaAhdC7y1ARMOyvq_QrA&s=08" target="_blank"><i class="fab fa-twitter"></i></a>
              <a href="https://www.instagram.com/arijit3039?utm_source=qr&igsh=MWZ3cG1sempxcjA3Ng==" target="_blank"><i class="fab fa-instagram"></i></a>
              <a href="https://youtube.com/@arijitpal-vg8zs?si=7ZE2ccihRz4gA0bB"><i class="fab fa-youtube"></i></a>
            </div>
          </div>
          <div class="footer-section">
            <h3 class="footer-heading" ">Get In Touch</h3>
                  <p>arijitpal002019@gmail.com</p>
                  <p>+91 983 043 4897</p>
                  <p>kolkata, India.</p>
              </div>
              <div class=" footer-section">
              <h3 class="footer-heading">Quick Links</h3>
              <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/about">About</a></li>
                <li><a href="/howitworks">How it works!</a></li>
                <li><a href="/predictor">Prediction</a></li>
              </ul>
          </div>
          <div class="footer-section">
            <h3 class="footer-heading">Newsletter</h3>
            <div class="newsletter">
              <input type="email" placeholder="Enter email...">
              <button onclick="">Subscribe <i class="fas fa-arrow-right"></i></button>
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; 2023 All Right Reserved TumorTrace.</p>
        </div>
      </div>
      <div id="backtotop">
        <h2> <i class='bx bxs-up-arrow'></i></h2>
        <div id="end"></div>
      </div>
</div>
</div>
<script>

  document.addEventListener('DOMContentLoaded', () => {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate');
        } else {
          entry.target.classList.remove('animate');
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.container, .container-footer .footer-section #backtotop .main-content').forEach(el => {
      observer.observe(el);
    });
  });

document.addEventListener('DOMContentLoaded', function() {
    const predictForm = document.getElementById('predict-form');
    const resultDisplay = document.getElementById('result-display');
    const resetButton = document.getElementById('reset-button');
    const downloadButton = document.getElementById('download-btn');
    let pieChart = null;

    predictForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const formData = new FormData(predictForm);

        fetch('/predict', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            console.log('Prediction:', data.prediction); // Debugging line

            gsap.to('#human-body', { scale: 2, duration: 1, transformOrigin: "center top" });

            setTimeout(function() {
                const predictionText = data.prediction;
                const color = predictionText === 'Cancer' ? 'red' : 'blue';
		
                resultDisplay.innerHTML = `Prediction: <span style="color: ${color};">${predictionText}</span>`;

                gsap.fromTo('#breast-area', { scale: 0, opacity: 0 }, {
                    scale: 1.2,
                    opacity: 1,
                    backgroundColor: predictionText === 'Cancer' ? 'rgba(255, 0, 0, 0.5)' : 'rgba(0, 0, 255, 0.5)',
                    duration: 1,
                    ease: "power1.inOut"
                });

                if (pieChart) {
                    pieChart.destroy();
                }

                const chartData = {
                    labels: ['Malignant', 'Benign'],
                    datasets: [{
                        data: [data.malignant_percentage, data.benign_percentage],
                        backgroundColor: ['#ff6384', '#36a2eb']
                    }]
                };

                const config = {
                    type: 'pie',
                    data: chartData,
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.label || '';
                                        let value = context.raw || 0;
                                        return `${label}: ${value.toFixed(2)}%`;
                                    }
                                }
                            }
                        }
                    }
                };

                const ctx = document.getElementById('resultChart').getContext('2d');
                pieChart = new Chart(ctx, config);

                downloadButton.style.display = 'block';
                downloadButton.addEventListener('click', function() {
                    // Download result and pie chart as two separate files
                    Promise.all([
                        html2canvas(document.querySelector('#right')).then(canvas => {
                            const link = document.createElement('a');
                            link.href = canvas.toDataURL();
                            link.download = 'prediction_pie_chart.png';
                            link.click();
                        }),
                        html2canvas(document.querySelector('.main-content')).then(canvas => {
                            const link = document.createElement('a');
                            link.href = canvas.toDataURL();
                            link.download = 'prediction_result.png';
                            link.click();
                        })
                    ]);
                });
            }, 2000); 
        })
        .catch(error => console.error('Error:', error));
    });

    resetButton.addEventListener('click', function() {
        predictForm.reset();
        resultDisplay.innerHTML = '';
        if (pieChart) {
            pieChart.destroy();
        }
        downloadButton.style.display = 'none';
        gsap.to('#human-body', { scale: 1, duration: 1 });
        gsap.to('#breast-area', { opacity: 0, duration: 0.5 });
    });
}); 
const scroll = new LocomotiveScroll({
    el: document.querySelector('[data-scroll-container]'),
    smooth: true,
}); 
document.querySelector("#backtotop h2").addEventListener("click", () => {
  window.scrollTo({ 
    left: 0,
    top: 0,
    behavior: 'smooth' // This makes the scrolling smooth
  });
});

    
</script>
<script src="https://cdn.botpress.cloud/webchat/v2.1/inject.js"></script>
<script src="https://mediafiles.botpress.cloud/fac39a98-35cc-4edd-b3a5-8c484e2f77de/webchat/v2.1/config.js"></script>
</body>
</html>
